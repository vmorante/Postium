<!--
|~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
| Purple Path                                                                                 |
|~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
| Crea una 'template reference variable' del formulario: quizá la necesites. Además, suscribe |
| el formulario al evento correspondiente para hacer 'submit' del mismo: no olvides pasar la  |
| referencia del formulario en él.                                                            |
|~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
-->
<form #escribirForm="ngForm" (ngSubmit)="submitPost(escribirForm)" novalidate>
    <!--
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | Purple Path                                                                                     |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | El campo 'title' debe enlazarse al formulario a través de la directiva 'ngModel'. Recuerda usar |
    | el nombre que se ha definido en la entidad Post. Además, este campo debe ser obligatorio.       |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    -->
    <input type="text" id="title" name="title" [(ngModel)]="post.title" placeholder="Título" class="u-full-width" ngModel #tituloRef="ngModel" required>
    <div class="mensaje-error" *ngIf="tituloRef.touched && tituloRef.errors?.required">
        El campo titulo es requerido
    </div>
    <!--
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | Purple Path                                                                                     |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | El campo 'intro' debe enlazarse al formulario a través de la directiva 'ngModel'. Recuerda usar |
    | el nombre que se ha definido en la entidad Post. Además, este campo debe ser obligatorio.       |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    -->
    <textarea id="intro" name="intro" placeholder="Introduce tu historia" [(ngModel)]="post.intro" class="u-full-width georgia-font" autogrow ngModel #introRef="ngModel" required></textarea>
    <div class="mensaje-error" *ngIf="introRef.touched && introRef.errors?.required">
        El campo intro es requerido
    </div>
    <!--
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | Purple Path                                                                                     |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | El campo 'body' debe enlazarse al formulario a través de la directiva 'ngModel'. Recuerda usar  |
    | el nombre que se ha definido en la entidad Post. Además, este campo debe ser obligatorio.       |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    -->
    <textarea id="body" name="body" placeholder="Cuenta tu historia" [(ngModel)]="post.body" class="u-full-width georgia-font" ngModel #bodyRef="ngModel" autogrow required></textarea>
    <div class="mensaje-error" *ngIf="bodyRef.touched && bodyRef.errors?.required">
        El campo body es requerido
    </div>
    <div>
        <div>
            <label (click)="setScheduling(false)">
                <span class="radio-input" [class.active]="!publicationDateScheduled"></span>
                No programar
            </label>
        </div>
        <div>
            <label (click)="setScheduling(true)">
                <span class="radio-input" [class.active]="publicationDateScheduled"></span>
                Publicar en:
            </label>
        </div>
        <div>
            <input type="datetime-local" name="publicationDate" [min]="nowDatetimeLocal" [ngModel]="nowDatetimeLocal">
        </div>
    </div>
    <!--
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | Purple Path                                                              |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    | Deshabilita el botón 'Publicar' en caso de que el formulario no sea      |
    | válido. Para ello vas a necesitar acceder al 'FormGroup' del formulario. |
    |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|
    -->
    <button type="submit" class="button-primary u-pull-right" [disabled]="escribirForm.invalid">Publicar</button>
</form>